# data = {'planets_data': [PlanetsData(Object='Asc', Rasi='Sagittarius', isRetroGrade=None, LonDecDeg=248.066, SignLonDMS='+08:03:58', SignLonDecDeg=8.0661, LatDMS=None, Nakshatra='Mula', RasiLord='Jupiter', NakshatraLord='Ketu', SubLord='Jupiter', SubSubLord='Saturn', HouseNr=1), PlanetsData(Object='Sun', Rasi='Sagittarius', isRetroGrade=False, LonDecDeg=257.13, SignLonDMS='+17:07:47', SignLonDecDeg=17.13, LatDMS='+01:01:10', Nakshatra='PurvaAshadha', RasiLord='Jupiter', NakshatraLord='Venus', SubLord='Moon', SubSubLord='Venus', HouseNr=1), PlanetsData(Object='Moon', Rasi='Scorpio', isRetroGrade=False, LonDecDeg=225.228, SignLonDMS='+15:13:42', SignLonDecDeg=15.228, LatDMS='+12:08:07', Nakshatra='Anuradha', RasiLord='Mars', NakshatraLord='Saturn', SubLord='Jupiter', SubSubLord='Saturn', HouseNr=12), PlanetsData(Object='Mercury', Rasi='Scorpio', isRetroGrade=False, LonDecDeg=235.575, SignLonDMS='+25:34:30', SignLonDecDeg=25.575, LatDMS='+01:14:03', Nakshatra='Jyeshtha', RasiLord='Mars', NakshatraLord='Mercury', SubLord='Rahu', SubSubLord='Venus', HouseNr=12), PlanetsData(Object='Venus', Rasi='Scorpio', isRetroGrade=False, LonDecDeg=217.951, SignLonDMS='+07:57:02', SignLonDecDeg=7.951, LatDMS='+01:12:24', Nakshatra='Anuradha', RasiLord='Mars', NakshatraLord='Saturn', SubLord='Ketu', SubSubLord='Saturn', HouseNr=11), PlanetsData(Object='Mars', Rasi='Sagittarius', isRetroGrade=False, LonDecDeg=240.811, SignLonDMS='+00:48:41', SignLonDecDeg=0.811, LatDMS='+00:44:11', Nakshatra='Mula', RasiLord='Jupiter', NakshatraLord='Ketu', SubLord='Venus', SubSubLord='Venus', HouseNr=12), PlanetsData(Object='Jupiter', Rasi='Leo', isRetroGrade=True, LonDecDeg=140.872, SignLonDMS='+20:52:18', SignLonDecDeg=20.872, LatDMS='-00:00:25', Nakshatra='PūrvaPhalgunī', RasiLord='Sun', NakshatraLord='Venus', SubLord='Jupiter', SubSubLord='Mercury', HouseNr=9), PlanetsData(Object='Saturn', Rasi='Capricorn', isRetroGrade=False, LonDecDeg=282.223, SignLonDMS='+12:13:21', SignLonDecDeg=12.223, LatDMS='+00:06:43', Nakshatra='Shravana', RasiLord='Saturn', NakshatraLord='Moon', SubLord='Rahu', SubSubLord='Jupiter', HouseNr=1), PlanetsData(Object='Uranus', Rasi='Sagittarius', isRetroGrade=False, LonDecDeg=259.993, SignLonDMS='+19:59:35', SignLonDecDeg=19.993, LatDMS='+00:03:35', Nakshatra='PurvaAshadha', RasiLord='Jupiter', NakshatraLord='Venus', SubLord='Rahu', SubSubLord='Moon', HouseNr=1), PlanetsData(Object='Neptune', Rasi='Sagittarius', isRetroGrade=False, LonDecDeg=262.506, SignLonDMS='+22:30:20', SignLonDecDeg=22.506, LatDMS='+00:02:16', Nakshatra='PurvaAshadha', RasiLord='Jupiter', NakshatraLord='Venus', SubLord='Saturn', SubSubLord='Mercury', HouseNr=1), PlanetsData(Object='Pluto', Rasi='Libra', isRetroGrade=False, LonDecDeg=208.372, SignLonDMS='+28:22:18', SignLonDecDeg=28.372, LatDMS='+00:01:46', Nakshatra='Vishakha', RasiLord='Venus', NakshatraLord='Jupiter', SubLord='Venus', SubSubLord='Mercury', HouseNr=11), PlanetsData(Object='Chiron', Rasi='Cancer', isRetroGrade=True, LonDecDeg=104.511, SignLonDMS='+14:30:40', SignLonDecDeg=14.511, LatDMS='-00:03:39', Nakshatra='Pushya', RasiLord='Moon', NakshatraLord='Saturn', SubLord='Rahu', SubSubLord='Sun', HouseNr=8), PlanetsData(Object='Rahu', Rasi='Sagittarius', isRetroGrade=True, LonDecDeg=256.001, SignLonDMS='+16:00:04', SignLonDecDeg=16.001, LatDMS='-00:03:11', Nakshatra='PurvaAshadha', RasiLord='Jupiter', NakshatraLord='Venus', SubLord='Sun', SubSubLord='Mercury', HouseNr=1), PlanetsData(Object='Ketu', Rasi='Gemini', isRetroGrade=True, LonDecDeg=76.001, SignLonDMS='+16:00:04', SignLonDecDeg=16.001, LatDMS='-00:03:11', Nakshatra='Ardra', RasiLord='Mercury', NakshatraLord='Rahu', SubLord='Venus', SubSubLord='Mars', HouseNr=7), PlanetsData(Object='Syzygy', Rasi='Gemini', isRetroGrade=False, LonDecDeg=65.295, SignLonDMS='+05:17:43', SignLonDecDeg=5.295, LatDMS='+15:02:51', Nakshatra='Mrigashīrsha', RasiLord='Mercury', NakshatraLord='Mars', SubLord='Sun', SubSubLord='Saturn', HouseNr=6), PlanetsData(Object='Fortuna', Rasi='Aquarius', isRetroGrade=False, LonDecDeg=303.718, SignLonDMS='+03:43:04', SignLonDecDeg=3.718, LatDMS='+00:00:00', Nakshatra='Dhanishta', RasiLord='Saturn', NakshatraLord='Mars', SubLord='Venus', SubSubLord='Rahu', HouseNr=2)], 'houses_data': [HousesData(Object='I', HouseNr=1, Rasi='Sagittarius', LonDecDeg=248.066, SignLonDMS='+08:03:58', SignLonDecDeg=8.066, DegSize=34.35, Nakshatra='Mula', RasiLord='Jupiter', NakshatraLord='Ketu', SubLord='Jupiter', SubSubLord='Saturn'), HousesData(Object='II', HouseNr=2, Rasi='Capricorn', LonDecDeg=282.416, SignLonDMS='+12:24:59', SignLonDecDeg=12.416, DegSize=36.951, Nakshatra='Shravana', RasiLord='Saturn', NakshatraLord='Moon', SubLord='Rahu', SubSubLord='Jupiter'), HousesData(Object='III', HouseNr=3, Rasi='Aquarius', LonDecDeg=319.367, SignLonDMS='+19:22:03', SignLonDecDeg=19.367, DegSize=33.866, Nakshatra='Shatabhisha', RasiLord='Saturn', NakshatraLord='Rahu', SubLord='Mars', SubSubLord='Rahu'), HousesData(Object='IV', HouseNr=4, Rasi='Pisces', LonDecDeg=353.233, SignLonDMS='+23:13:59', SignLonDecDeg=23.233, DegSize=28.065, Nakshatra='Revati', RasiLord='Jupiter', NakshatraLord='Mercury', SubLord='Moon', SubSubLord='Venus'), HousesData(Object='V', HouseNr=5, Rasi='Aries', LonDecDeg=21.298, SignLonDMS='+21:17:52', SignLonDecDeg=21.298, DegSize=23.912, Nakshatra='Bharani', RasiLord='Mars', NakshatraLord='Venus', SubLord='Jupiter', SubSubLord='Sun'), HousesData(Object='VI', HouseNr=6, Rasi='Taurus', LonDecDeg=45.21, SignLonDMS='+15:12:36', SignLonDecDeg=15.21, DegSize=22.856, Nakshatra='Rohini', RasiLord='Venus', NakshatraLord='Moon', SubLord='Jupiter', SubSubLord='Moon'), HousesData(Object='VII', HouseNr=7, Rasi='Gemini', LonDecDeg=68.066, SignLonDMS='+08:03:58', SignLonDecDeg=8.066, DegSize=34.35, Nakshatra='Ardra', RasiLord='Mercury', NakshatraLord='Rahu', SubLord='Rahu', SubSubLord='Venus'), HousesData(Object='VIII', HouseNr=8, Rasi='Cancer', LonDecDeg=102.416, SignLonDMS='+12:24:59', SignLonDecDeg=12.416, DegSize=36.951, Nakshatra='Pushya', RasiLord='Moon', NakshatraLord='Saturn', SubLord='Mars', SubSubLord='Saturn'), HousesData(Object='IX', HouseNr=9, Rasi='Leo', LonDecDeg=139.367, SignLonDMS='+19:22:03', SignLonDecDeg=19.367, DegSize=33.866, Nakshatra='PūrvaPhalgunī', RasiLord='Sun', NakshatraLord='Venus', SubLord='Rahu', SubSubLord='Ketu'), HousesData(Object='X', HouseNr=10, Rasi='Virgo', LonDecDeg=173.233, SignLonDMS='+23:13:59', SignLonDecDeg=23.233, DegSize=28.065, Nakshatra='Hasta', RasiLord='Mercury', NakshatraLord='Moon', SubLord='Sun', SubSubLord='Venus'), HousesData(Object='XI', HouseNr=11, Rasi='Libra', LonDecDeg=201.298, SignLonDMS='+21:17:52', SignLonDecDeg=21.298, DegSize=23.912, Nakshatra='Vishakha', RasiLord='Venus', NakshatraLord='Jupiter', SubLord='Jupiter', SubSubLord='Moon'), HousesData(Object='XII', HouseNr=12, Rasi='Scorpio', LonDecDeg=225.21, SignLonDMS='+15:12:36', SignLonDecDeg=15.21, DegSize=22.856, Nakshatra='Anuradha', RasiLord='Mars', NakshatraLord='Saturn', SubLord='Jupiter', SubSubLord='Saturn')]}


# for key,val in data.items():
#     print(key, val)




from vedicastro import VedicAstro

# Birth Data
year = 2001
month = 6
day = 29
hour = 14
minute = 30
second = 0
utc = 5.5  # UTC offset (for New Delhi, India)
latitude = 28.9845
longitude = 77.7064
ayanamsa = 'Lahiri'  # Ayanamsa used in Vedic astrology
house_system = 'Placidus'  # House system (you can change this if needed)


# Initialize VedicAstro and get the horoscope data
horoscope = VedicAstro.VedicHoroscopeData(
    year, month, day, hour, minute, second,
    utc, latitude, longitude, ayanamsa, house_system
)

# Generate the chart
chart = horoscope.generate_chart()

# Extract planets data and houses data from the generated chart
planets_data = horoscope.get_planets_data_from_chart(chart)
houses_data = horoscope.get_houses_data_from_chart(chart)

# Return the extracted data
result = {
    "planets_data": planets_data,
    "houses_data": houses_data,
}
# print(result)


# Convert planets and houses data to dictionaries
planets_data_list = [i._asdict() for i in result["planets_data"]]
houses_data_list = [i._asdict() for i in result["houses_data"]]

# Organize the data into dictionaries
final_data = [{"planets_data": planets_data_list}, {"houses_data": houses_data_list}]

# Format the planets data with house and rasi information
def format_planets_data(planets_data):
    house_lookup = {house['HouseNr']: house['Rasi'] for house in planets_data[1]['houses_data']}
    return [f"{planet['Object']}: House {planet['HouseNr']} ({house_lookup.get(planet['HouseNr'], 'Unknown')}{', Retrograde' if planet['isRetroGrade'] else ''})"
            for planet in planets_data[0]['planets_data']]

# Print formatted planet information
formatted_planets_data = format_planets_data(final_data)
print(formatted_planets_data)
